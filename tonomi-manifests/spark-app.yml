application:
    interfaces:
        configuration:
            "*": bind(application#configuration.*)
        spark:
            "*": bind(application#spark.*)
        compute:
            "*": bind(application#compute.*)
        control:
            "*": bind(application#control.*)
    components:
        application:
            type: scripted.Component
            configuration:
                factory.name: Spark on marathon Factory
                factory.launchScript:           /spark/create.py
                factory.destroyScript:          /spark/destroy.py
                factory.healthCheckScript:      /spark/healthCheck.py
                factory.reconfigurationScript:  /spark/reconfigure.py
                factory.commandScripts:
                    control.restart:            /spark/restart.py
                    control.scale:              /spark/scale.py
            interfaces:
                configuration:
                    name:               configuration(string)
                    applicationUrl:     configuration(string)
                    kafkaBrokers:       configuration(string)
                    cassandraEndpoint:  configuration(string)
                    redisEndpoint:      configuration(string)
                spark:
                    hosts:              publish-signal(list<string>)
                    load-balancer-port: publish-signal(string)
                compute:
                    ram:        publish-signal(string)
                    cpu:        publish-signal(string)
                    disk:       publish-signal(string)
                    instances:  publish-signal(string)
                control:
                    restart:  receive-command()
                    scale:    receive-command(int instances)